<html>

    <head>
        <script src="https://unpkg.com/snapsvg@0.5.1/dist/snap.svg-min.js"></script>
    </head>

    <body>
        <center>
            <h1>Snap</h1>
            <svg id="svg" width="300" height="300" style="background-color: aliceblue;" viewBox="-50 50 150 150">
            </svg>

            <script type="module">

                var s = Snap(document.getElementById("svg"))

                s.attr({
                    "background": "black"
                })

                var path1 = s.path("M 10 100 C 30 140, 40 140, 50 90")
                //var path1 = s.path("M 10 100 l 100 0")

                path1.attr({
                    fill: "none",
                    stroke: "#000",
                    strokeWidth: 2
                });

                //var path2 = s.path("M 10 110 C 10 140, 40 120, 70 120")
                var path2Line = s.path("M 10 110 l 70 30")

                path2Line.attr({
                    fill: "none",
                    stroke: "#000",
                    strokeWidth: 2
                });

                let xs = Snap.path.intersection(path1, path2Line)
                console.log(xs)
                xs.forEach(p => {
                    s.circle(p.x, p.y, 2).attr({ fill: "red" })
                });

                let cx = 50
                let cy = 120
                let r = 25
                let pathC = `
                    M ${cx - r}, ${cy}
                    a ${r},${r} 0 1,0 ${r * 2}, 0
                    a ${r},${r} 0 1,0 -${r * 2}, 0
                    `
                var circlePath = s.path(pathC).attr({
                    fill: "none",
                    stroke: "#0f0",
                    strokeWidth: 1,
                    strokeDasharray: 2
                })

                let ys = Snap.path.intersection(pathC, path2Line)
                console.log(xs)
                ys.forEach(p => {
                    s.circle(p.x, p.y, 2).attr({ fill: "red" })
                });

                var circle4 = s.circle(cx, cy, r).attr({
                    fill: "none",
                    stroke: "#ff0",
                    strokeWidth: 1,
                    strokeDasharray: 4
                })

            </script>
        </center>
    </body>


</html>