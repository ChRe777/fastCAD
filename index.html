<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

    <head>

        <meta charset="utf-8">

        <meta http-equiv='pragma' content='no-cache'>
        <meta http-equiv='expires' content='0'>
        <meta http-equiv='cache-control' content='no-cache'>

        <title>FastCAD</title>

        <!-- see https://www.leereamsnyder.com/favicons-in-2021 -->
        <link rel="icon" type="image/x-icon" href="./Assests/Image/favicon.ico">

        <!-- LIBRARIES ES6 -->
        <!-- 
            see https://lodash.com
            read https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules
            read https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/
            see https://www.sitepoint.com/using-es-modules/ 
            see https://banno.com/articles/improving-caching-with-import-maps/
        -->

        <!-- FASTER LOADING !!!
            <link rel="modulepreload" href="html.js">
            <link rel="modulepreload" href="lib.js">
        -->

        <!-- TODO: Component should register themselves in IMPORTMAP 
            see https://flaviocopes.com/javascript-dynamic-import/
        -->
        <script type="importmap">
        {
            "imports": {
                "pinia"                 : "https://unpkg.com/pinia@2.1.7/dist/pinia.esm-browser.js",
                "underscore"            : "https://unpkg.com/underscore@1.13.6/underscore-esm-min.js",
                "wontache"              : "https://unpkg.com/wontache@0.2.0/mustache-esm.js",
                "svg-pathdata"          : "https://unpkg.com/svg-pathdata@6.0.3/lib/SVGPathData.module.js",

                "vue-dev"               : "https://unpkg.com/vue@3.3.6/dist/vue.esm-browser.js",
                "vue"                   : "https://unpkg.com/vue@3.3.6/dist/vue.esm-browser.prod.js",
                "vue-demi"              : "https://unpkg.com/vue-demi@0.14.6/lib/v3/index.mjs",
                "@vue/devtools-api"     : "https://unpkg.com/@vue/devtools-api@6.5.1/lib/esm/index.js",

                "components/app"        : "./Components/App.js",
                "components/appbar"     : "./Components/AppToolbar.js",

                "components/box"        : "./Components/ZoomBox.js",
                "components/cmdline"    : "./Components/CommandLine.js",
                "components/editor"     : "./Components/AttributeEditor.js",
                "components/layer"      : "./Components/LayerList.js",
                "components/message"    : "./Components/UserMessage.js",
                "components/ruler"      : "./Components/SvgSceneRuler.js",
                "components/scene"      : "./Components/SvgScene.js",
                "components/element"    : "./Components/SvgElement.js",
                "components/selectionRect" : "./Components/SvgSelectionRect.js",
                "components/toolbar"    : "./Components/SvgToolbar.js",
                "components/types"      : "./Components/SvgElementTypes.js",
                "components/fun"        : "./Components/Fun.js",

                "views/batch"           : "./Views/BatchScriptingDialog.js",
                "views/settings"        : "./Views/SettingsDialog.js",
                "views/export"          : "./Views/ExportDialog.js",

                "parts/toast"           : "./Components/Parts/UserMessageToast.js",
                "parts/counter"         : "./Components/Parts/LayerListCounter.js",
                "parts/toggler"         : "./Components/Parts/LayerListToggler.js",
                "parts/visible"         : "./Components/Parts/LayerListVisible.js",
                "parts/freeze"          : "./Components/Parts/LayerListFreeze.js",
                "parts/button"          : "./Components/Parts/ToolbarButton.js",
     
                "editors/common"        : "./Components/Editors/CommonEditor.js",
                "editors/line"          : "./Components/Editors/LineEditor.js",
                "editors/circle"        : "./Components/Editors/CircleEditor.js",
                "editors/ellipse"       : "./Components/Editors/EllipseEditor.js",
                "editors/text"          : "./Components/Editors/TextEditor.js",
                "editors/image"         : "./Components/Editors/ImageEditor.js",
                "editors/polyline"      : "./Components/Editors/PolylineEditor.js",
                "editors/polygon"       : "./Components/Editors/PolygonEditor.js",
                "editors/path"          : "./Components/Editors/PathEditor.js",
                "editors/rect"          : "./Components/Editors/RectEditor.js",
                "editors/layer"         : "./Components/Editors/LayerEditor.js",
                "editors/group"         : "./Components/Editors/GroupEditor.js",
                "editors/debug"         : "./Components/Editors/DebugInfo.js",
                "editors/types"         : "./Components/Editors/AttributeTypes.js",

                "stores/cmd"            : "./Stores/CommandStore.js",
                "stores/cache"          : "./Stores/CacheStore.js",
                "stores/store"          : "./Stores/AppStore.js",
                "stores/view"           : "./Stores/ViewBoxStore.js",
                "stores/editor"         : "./Stores/EditorStore.js",
                "stores/message"        : "./Stores/UserMessageStore.js",
                "stores/selection"      : "./Stores/SelectionStore.js",
                "stores/settings"       : "./Stores/SettingsStore.js",
                "stores/plugin"         : "./Stores/PluginStore.js",
                "stores/tool"           : "./Stores/ToolStore.js",

                "services/io"           : "./Services/IOService.js",
                "services/io-local"     : "./Services/IOLocalStorageService.js",
                "services/io-rest"      : "./Services/IORestStorageService.js",
                "services/cmds"         : "./Services/CmdService.js",
                "services/interpreter"  : "./Services/CmdInterpreter.js",
                "services/utils"        : "./Services/UtilsFunctions.js",
                "services/defaults"     : "./Services/Defaults.js",
                "services/tools"        : "./Services/ToolService.js",

                "api/api"               : "./API/Api.js",

                "api/layer"             : "./API/Scene/Layer.js",
                "api/element"           : "./API/Scene/Element.js",
                "api/scene"             : "./API/Scene/Scene.js",
                "api/view"              : "./API/Scene/View.js",

                "api/create"            : "./API/Scene/Element/Create.js",
                "api/destroy"           : "./API/Scene/Element/Destroy.js",
                "api/modify"            : "./API/Scene/Element/Modify.js",
                "api/modify/move"       : "./API/Scene/Element/Modify/Move.js",
                "api/modify/rotate"     : "./API/Scene/Element/Modify/Rotate.js",
                "api/modify/mirror"     : "./API/Scene/Element/Modify/Mirror.js",

                "api/export"            : "./API/IO/Export.js",
                "api/io"                : "./API/IO/IO.js",

                "api/cmd"               : "./API/UI/Cmd.js",
                "api/editor"            : "./API/UI/Editor.js",
                "api/editor"            : "./API/UI/Editor.js",
                "api/message"           : "./API/UI/Message.js",
                "api/selection"         : "./API/UI/Selection.js",
                "api/tool"              : "./API/UI/Tool.js",

                "tools/polyline"        : "./Components/Tools/Polyline.js",
                "tools/selection"       : "./Components/Tools/Selection.js",
                "tools/pan"             : "./Components/Tools/Pan.js",
                "tools/zoom"            : "./Components/Tools/Zoom.js",

                "test/all"              : "./Tests/All.js"
                
            }
        }
        </script>

        <!-- LIB STYLES -->
        <link rel="stylesheet" href="https://unpkg.com/normalize.css@7.0.0/normalize.css" />
        <link rel="stylesheet" href="https://unpkg.com/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-icons@1.11.1/font/bootstrap-icons.css" />

        <!-- LIB SCRIPTS -->
        <script src="https://daybrush.com/ruler/release/latest/dist/ruler.min.js"></script>
        <script src="https://daybrush.com/gesto/release/latest/dist/gesto.min.js"></script>
        <script src="https://unpkg.com/mousetrap@1.6.5/mousetrap.min.js"></script>
        <script src="https://unpkg.com/short-unique-id@5.0.3/dist/short-unique-id.min.js"></script>
        <script src="https://unpkg.com/@popperjs/core@2.8.6/dist/umd/popper.min.js"></script>
        <script src="https://unpkg.com/bootstrap@5.3.2/dist/js/bootstrap.min.js"></script>

        <!-- APP STYLE -->
        <link href="./Assests/Css/App.css" rel="stylesheet">

    </head>

    <body>
        <div id="app"></div>
        <script src="./Scripts/App.js" type="module"></script>
    </body>

</html>